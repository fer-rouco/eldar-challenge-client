"use strict";(self.webpackChunkeldar_challenge_client=self.webpackChunkeldar_challenge_client||[]).push([[140,515],{7934:function(e,n,t){var r,c,a,s=t(168),i=t(7924),o=t(184),u=(0,i.iv)(r||(r=(0,s.Z)(["\n  border: 1px solid #CCC;\n  border-radius: 1rem;\n"]))),l=i.zo.div(c||(c=(0,s.Z)(["\n\n  ",";\n\n  background-color: #e1e1e1;\n\n  overflow: hidden;\n\n  padding: 1.25rem;\n\n  margin-bottom: 1.25rem;\n\n  &.small {\n    max-width: 28.75rem; // 460,8px con font-size 16px\n  }\n\n  &.medium {\n    max-width: 38.375rem; // 614,4px con font-size 16px\n  }\n\n  &.large {\n    max-width: 49.5625rem; // 793,6px con font-size 16px\n  }\n"])),u),d=i.zo.div(a||(a=(0,s.Z)(["\n\n  ",";\n  \n  padding: 0 20px;\n  margin: 0 20px 20px;\n\n  background-color: #70aaff;\n  color: #fff;\n"])),u);n.Z=function(e){var n=e.title,t=e.children,r=e.size,c=e.className,a=e.hideTitle;return(0,o.jsxs)(l,{className:"panel container ".concat(c||""," ").concat(r||""),children:[a||(0,o.jsx)(d,{children:(0,o.jsx)("h1",{children:n})}),t]})}},5039:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(8683),c=t(413),a=t(184);function s(e){return(0,a.jsx)(c.Z,(0,r.Z)((0,r.Z)({type:"submit"},e),{},{attr:"submitButton"}))}},4276:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var r=t(184);function c(e){var n=e.type,t=(e.model,e.attr),c=e.value,a=e.label,s=e.onChange;return(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:t,className:"form-label",children:a}),(0,r.jsx)("input",{type:n,id:t,className:"form-control",value:c,onChange:s})]})}},7515:function(e,n,t){t.r(n);var r=t(4165),c=t(5861),a=t(8683),s=t(9439),i=t(2791),o=t(6774),u=t(7934),l=t(2716),d=t(4276),f=t(5039),p=t(7689),h=t(8152),m=t(184);n.default=function(e){var n=e.hideTitle,t=(0,p.s0)(),x=(0,h.w)(),v=x.addSuccessMessage,j=x.addErrorMessage,g=(0,l.q)(),Z=g.id,b=g.isCreatePageType,y=g.isEditPageType,w=g.isViewPageType,N=(0,i.useState)(""),C=(0,s.Z)(N,2),k=C[0],P=C[1],_=(0,i.useState)(""),T=(0,s.Z)(_,2),z=T[0],E=T[1],S=(0,i.useState)(0),U=(0,s.Z)(S,2),q=U[0],M=U[1];(0,i.useEffect)((function(){return b()||(0,o.qC)(Z).then((function(e){P(e.category),E(e.description),M(e.price)})),function(){}}),[Z]);var F=function(){return b()?"Create":"Update"},I=function(){return(0,m.jsxs)("div",{className:"container",children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,m.jsx)(d.Z,{attr:"category",type:"text",label:"Category",value:k,onChange:function(e){return P(e.target.value)}})}),(0,m.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,m.jsx)(d.Z,{attr:"description",type:"text",label:"Description",value:z,onChange:function(e){return E(e.target.value)}})})]}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,m.jsx)(d.Z,{attr:"price",type:"number",label:"Price",value:q,onChange:function(e){return M(e.target.value)}})})}),w()||(0,m.jsx)("div",{className:"row justify-content-center",children:(0,m.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,m.jsx)(f.Z,{label:F(),className:"w-100",large:!0})})})]})};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u.Z,{title:"".concat(F()," Product").trim(),size:"medium",hideTitle:n,children:w()?I():function(){var e=function(){var e={category:k,description:z,price:q};return y()?(0,a.Z)({_id:Z},e):e},n=function(){var n=(0,c.Z)((0,r.Z)().mark((function n(c){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),a="",n.prev=2,!b()){n.next=9;break}return a="created",n.next=7,(0,o.Ue)(e());case 7:n.next=13;break;case 9:if(!y()){n.next=13;break}return a="updated",n.next=13,(0,o.Vx)(e());case 13:v("Product ".concat(a," successfully")),t("/Products"),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(2),j("Error trying to ".concat(F().toLowerCase()," a product"));case 20:case"end":return n.stop()}}),n,null,[[2,17]])})));return function(e){return n.apply(this,arguments)}}();return(0,m.jsx)("form",{onSubmit:n,children:I()})}()})})}},9140:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(9439),c=t(2791),a=t(6774),s=t(2513),i=t(1087),o=t(8152),u=t(7934),l=t(2716),d=t(7515),f=t(2776),p=t.n(f),h=t(413),m=t(184),x=function(e){var n=e.title,t=e.children,r=e.show,a=(0,c.createRef)();return(0,c.useEffect)((function(){var e=p().Modal.getOrCreateInstance(a.current);r?e.show():e.hide()}),[r]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"modal",tabIndex:"-1",id:"modal",ref:a,children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",children:n}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsx)("div",{className:"modal-body",children:t}),(0,m.jsx)("div",{className:"modal-footer",children:(0,m.jsx)(h.Z,{className:"btn btn-secondary","data-bs-dismiss":"modal",label:"Close"})})]})})})})},v=t(9148),j=t(4841),g=(0,v.Z)(!0),Z=function(){var e=(0,c.useState)([]),n=(0,r.Z)(e,2),t=n[0],f=n[1],p=(0,c.useState)(!1),h=(0,r.Z)(p,2),v=h[0],Z=h[1],b=(0,o.w)(),y=b.addSuccessMessage,w=b.addErrorMessage,N=(0,l.q)(),C=N.setId,k=N.setCreatePageType,P=N.setEditPageType,_=N.setViewPageType;(0,c.useEffect)((function(){return T(),function(){f([])}}),[]);var T=function(){(0,a.go)().then((function(e){f(e)}))},z=function(){var e=g.getItem(j.fH);return!!e&&"admin"===e.profile};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{title:"Products",size:"large",children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",children:"Category"}),(0,m.jsx)("th",{scope:"col",children:"Description"}),(0,m.jsx)("th",{scope:"col",children:"Price"}),!z()||(0,m.jsx)("th",{scope:"col",children:(0,m.jsx)(i.rU,{to:{pathname:"/Product"},onClick:function(){return C(-1),void k()},children:(0,m.jsx)(s.Z,{fontName:"plus-square-dotted"})})}),(0,m.jsx)("th",{scope:"col"}),!z()||(0,m.jsx)("th",{scope:"col"})]})}),(0,m.jsx)("tbody",{children:t.map((function(e){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.category}),(0,m.jsx)("td",{children:e.description}),(0,m.jsx)("td",{children:e.price}),!z()||(0,m.jsx)("td",{children:(0,m.jsx)(i.rU,{to:{pathname:"/Product"},onClick:function(){return n=e._id,C(n),void P();var n},children:(0,m.jsx)(s.Z,{fontName:"pencil-square"})})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{onClick:function(){return n=e._id,C(n),_(),void Z(!0);var n},"data-bs-target":".modal","data-bs-toggle":"modal",children:(0,m.jsx)(s.Z,{fontName:"eye"})})}),!z()||(0,m.jsx)("td",{children:(0,m.jsx)(s.Z,{fontName:"trash3",onClick:function(){return function(e){console.log("Removing Product/".concat(e._id)),(0,a.Od)(e._id).then((function(){y("Product removed successfully!"),T()})).catch((function(){w("Error trying to remove the product ".concat(e.description))}))}(e)}})})]},e._id)}))})]})}),(0,m.jsx)(x,{title:"Product",show:v,children:(0,m.jsx)(d.default,{hideTitle:!0})})]})}},6774:function(e,n,t){t.d(n,{Od:function(){return m},Ue:function(){return d},Vx:function(){return p},go:function(){return u},qC:function(){return i}});var r=t(4165),c=t(5861),a=t(2604),s="api/product";function i(e){return o.apply(this,arguments)}function o(){return(o=(0,c.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.U2)(s+"/"+n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,c.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.U2)(s));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.v_)(s+"/create",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,c.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.gz)(s+"/update/".concat(n._id),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.Od)(s,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=140.bb44367b.chunk.js.map