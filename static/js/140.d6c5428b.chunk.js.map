{"version":3,"file":"static/js/140.d6c5428b.chunk.js","mappings":"+KAEMA,GAAeC,EAAAA,EAAAA,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,6DAKlBC,EAAkBC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,8XAE9BH,GAwBEO,EAAeF,EAAAA,GAAAA,IAAUG,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,mHAE3BH,GA2BJ,IAjBc,SAAHS,GAAyD,IAAnDC,EAAKD,EAALC,MAAOC,EAAQF,EAARE,SAAUC,EAAIH,EAAJG,KAAMC,EAASJ,EAATI,UAAWC,EAASL,EAATK,UAMjD,OACEC,EAAAA,EAAAA,MAACX,EAAe,CAACS,UAJX,mBAANG,OAA0BH,GAAa,GAAE,KAAAG,OAAIJ,GAAQ,IAIZD,SAAA,CACrCG,IACAG,EAAAA,EAAAA,KAACV,EAAY,CAAAI,UACXM,EAAAA,EAAAA,KAAA,MAAAN,SAAKD,MAGRC,IAGP,C,uFC3De,SAASO,EAAaC,GACnC,OAAOF,EAAAA,EAAAA,KAACG,EAAAA,GAAMC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAACC,KAAK,UAAaH,GAAK,IAAEI,KAAK,iBAC/C,C,4ECFe,SAASC,EAAUf,GAAiD,IAA9Ca,EAAIb,EAAJa,KAAaC,GAAFd,EAALgB,MAAWhB,EAAJc,MAAMG,EAAKjB,EAALiB,MAAOC,EAAKlB,EAALkB,MAAOC,EAAQnB,EAARmB,SAiBpE,OACEb,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMF,SAAA,EACnBM,EAAAA,EAAAA,KAAA,SAAOY,QAASN,EAAMV,UAAU,aAAYF,SAAGgB,KAC/CV,EAAAA,EAAAA,KAAA,SAAOK,KAAMA,EAAMQ,GAAIP,EAAMV,UAAU,eAAea,MAAOA,EAAOE,SAAUA,MAGpF,C,uLCdMG,GAAwBC,EAAAA,EAAAA,IAAsB,GAyGpD,UAvGgB,SAAHvB,GAAuB,IAAjBK,EAASL,EAATK,UACXmB,GAAWC,EAAAA,EAAAA,MACjBC,GAA+CC,EAAAA,EAAAA,KAAvCC,EAAiBF,EAAjBE,kBAAmBC,EAAeH,EAAfG,gBAG3BC,GAA+DC,EAAAA,EAAAA,KAAxDV,EAAES,EAAFT,GAAIW,EAAgBF,EAAhBE,iBAAkBC,EAAcH,EAAdG,eAAgBC,EAAcJ,EAAdI,eAE7CC,GAAgCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAC5BI,GAAsCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAA0BT,EAAAA,EAAAA,UAAS,GAAEU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA9BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,IAEtBG,EAAAA,EAAAA,YAAU,WAYR,OATKjB,MACHkB,EAAAA,EAAAA,IAAS7B,GAAI8B,MAAK,SAACC,GAEjBZ,EAAYY,EAAQb,UACpBK,EAAeQ,EAAQT,aACvBK,EAASI,EAAQL,MACnB,IAGK,WACL,CAEJ,GAAG,CAAC1B,IAEJ,IAAMgC,EAAc,WAClB,OAAQrB,IAAsB,SAAW,QAC3C,EAEMsB,EAAQ,WACZ,OACEhD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWF,SAAA,EACxBI,EAAAA,EAAAA,MAAA,OAAKF,UAAU,MAAKF,SAAA,EAClBM,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oBAAmBF,UAChCM,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACD,KAAK,WAAWD,KAAK,OAAOK,MAAM,WAAWD,MAAOsB,EAAUpB,SAAU,SAAAoC,GAAK,OAAIf,EAAYe,EAAMC,OAAOvC,MAAM,OAE9HT,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oBAAmBF,UAChCM,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACD,KAAK,cAAcD,KAAK,OAAOK,MAAM,cAAcD,MAAO0B,EAAaxB,SAAU,SAAAoC,GAAK,OAAIX,EAAeW,EAAMC,OAAOvC,MAAM,UAG5IT,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,MAAKF,UAClBM,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oBAAmBF,UAChCM,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACD,KAAK,QAAQD,KAAK,SAASK,MAAM,QAAQD,MAAO8B,EAAO5B,SAAU,SAAAoC,GAAK,OAAIP,EAASO,EAAMC,OAAOvC,MAAM,QAGpHiB,MACA1B,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,6BAA4BF,UACzCM,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oBAAmBF,UAChCM,EAAAA,EAAAA,KAACC,EAAAA,EAAY,CAACS,MAAOmC,IAAejD,UAAU,QAAQqD,OAAK,UAMvE,EAsCA,OACEjD,EAAAA,EAAAA,KAAAkD,EAAAA,SAAA,CAAAxD,UACEM,EAAAA,EAAAA,KAACmD,EAAAA,EAAK,CAAC1D,MAAO,GAAAM,OAAG8C,IAAa,YAAWO,OAAQzD,KAAK,SAASE,UAAWA,EAAUH,SAChFgC,IAAoBoB,IAvCV,WAChB,IAAMO,EAAmB,WAAO,IAADC,EACzBC,EAAmE,QAA5DD,EAAGxC,EAAsB0C,QAAQC,EAAAA,WAA2B,IAAAH,OAAA,EAAzDA,EAA2DI,IACrEC,EAAc,CAAE5B,SAAAA,EAAUI,YAAAA,EAAaI,MAAAA,EAAOgB,QAAAA,GAClD,OAAQ9B,KAAgBrB,EAAAA,EAAAA,GAAA,CAAMsD,IAAK7C,GAAO8C,GAAgBA,CAC5D,EAEMC,EAAM,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOlB,GAAK,IAAAmB,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGV,GAFfvB,EAAMwB,iBAEFL,EAAS,GAAEE,EAAAC,KAAA,GAET7C,IAAmB,CAAD4C,EAAAE,KAAA,QACD,OAAnBJ,EAAS,UAAUE,EAAAE,KAAA,GACbE,EAAAA,EAAAA,IAAOnB,KAAoB,KAAD,EAAAe,EAAAE,KAAA,oBAEzB7C,IAAiB,CAAD2C,EAAAE,KAAA,SACJ,OAAnBJ,EAAS,UAAUE,EAAAE,KAAA,IACbG,EAAAA,EAAAA,IAAOpB,KAAoB,KAAD,GAElCjC,EAAkB,WAADrB,OAAYmE,EAAM,kBACnClD,EAAS,aAAaoD,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAGtB/C,EAAgB,mBAADtB,OAAoB8C,IAAc8B,cAAa,eAAc,yBAAAP,EAAAQ,OAAA,GAAAX,EAAA,mBAG/E,gBApBWY,GAAA,OAAAhB,EAAAiB,MAAA,KAAAC,UAAA,KAsBZ,OACE/E,EAAAA,EAAAA,KAAA,QAAMgF,SAAUpB,EAAOlE,SACpBoD,KAGP,CAKsCmC,MAIxC,C,uMC5EA,EAnCc,SAAHzF,GAAiC,IAA5BC,EAAKD,EAALC,MAAOC,EAAQF,EAARE,SAAUwF,EAAI1F,EAAJ0F,KACzBC,GAAWC,EAAAA,EAAAA,aAajB,OAXA3C,EAAAA,EAAAA,YAAU,WACR,IAAM4C,EAAQC,IAAAA,MAAAA,oBAAoCH,EAASI,SACvDL,EACFG,EAAMH,OAGNG,EAAMG,MAGV,GAAG,CAACN,KAGFlF,EAAAA,EAAAA,KAAAkD,EAAAA,SAAA,CAAAxD,UACEM,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,QAAQ6F,SAAS,KAAK5E,GAAG,QAAQ6E,IAAKP,EAASzF,UAC5DM,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcF,UAC3BI,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeF,SAAA,EAC5BI,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAcF,SAAA,EAC3BM,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,cAAaF,SAAED,KAC7BO,EAAAA,EAAAA,KAAA,UAAQK,KAAK,SAAST,UAAU,YAAY,kBAAgB,QAAQ,aAAW,cAEjFI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,aAAYF,SACxBA,KAEHM,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,eAAcF,UAC3BM,EAAAA,EAAAA,KAACG,EAAAA,EAAM,CAACP,UAAU,oBAAoB,kBAAgB,QAAQc,MAAM,oBAOlF,E,oBC1BMI,GAAwBC,EAAAA,EAAAA,IAAsB,GAqHpD,EAnHiB,WACf,IAAAY,GAAgCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCgE,EAAQ9D,EAAA,GAAE+D,EAAW/D,EAAA,GAC5BI,GAAkCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA1C4D,EAAS3D,EAAA,GAAE4D,EAAY5D,EAAA,GAC9BhB,GAA+CC,EAAAA,EAAAA,KAAvCC,EAAiBF,EAAjBE,kBAAmBC,EAAeH,EAAfG,gBAC3BC,GAAqEC,EAAAA,EAAAA,KAA9DwE,EAAKzE,EAALyE,MAAOC,EAAiB1E,EAAjB0E,kBAAmBC,EAAe3E,EAAf2E,gBAAiBC,EAAe5E,EAAf4E,iBAElDzD,EAAAA,EAAAA,YAAU,WAGR,OAFA0D,IAEO,WACLP,EAAY,GACd,CACF,GAAG,IAEH,IAAMO,EAAgB,WACpB,IAAMC,EAAgBtF,EAAsB0C,QAAQC,EAAAA,IAChDF,EAAuB,OAAb6C,QAAa,IAAbA,OAAa,EAAbA,EAAe1C,KAC7B2C,EAAAA,EAAAA,IAAO9C,GAASZ,MAAK,SAACgD,GACpBC,EAAYD,EACd,GACF,EA4BMW,EAAU,WACd,IAAIF,EAAgBtF,EAAsB0C,QAAQC,EAAAA,IAClD,QAAI2C,GAC+B,UAA1BA,EAAcG,OAIzB,EAEA,OACEzG,EAAAA,EAAAA,MAAAoD,EAAAA,SAAA,CAAAxD,SAAA,EACEM,EAAAA,EAAAA,KAACmD,EAAAA,EAAK,CAAC1D,MAAM,WAAWE,KAAK,QAAOD,UAClCI,EAAAA,EAAAA,MAAA,SAAOF,UAAU,QAAOF,SAAA,EACtBM,EAAAA,EAAAA,KAAA,SAAAN,UACEI,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACEM,EAAAA,EAAAA,KAAA,MAAIwG,MAAM,MAAK9G,SAAC,cAChBM,EAAAA,EAAAA,KAAA,MAAIwG,MAAM,MAAK9G,SAAC,iBAChBM,EAAAA,EAAAA,KAAA,MAAIwG,MAAM,MAAK9G,SAAC,WAChBM,EAAAA,EAAAA,KAAA,MAAIwG,MAAM,MAAK9G,UACbM,EAAAA,EAAAA,KAACyG,EAAAA,GAAI,CAACC,GAAI,CAAEC,SAAS,YAAeC,QAAS,kBA5CzDb,GAAO,QACPC,GA2C8E,EAACtG,UACjEM,EAAAA,EAAAA,KAAC6G,EAAAA,EAAI,CAACC,SAAS,4BAGnB9G,EAAAA,EAAAA,KAAA,MAAIwG,MAAM,SACPF,MACDtG,EAAAA,EAAAA,KAAA,MAAIwG,MAAM,cAIhBxG,EAAAA,EAAAA,KAAA,SAAAN,SAEIiG,EAASoB,KAAI,SAACnE,GAAO,OACnB9C,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,EACEM,EAAAA,EAAAA,KAAA,MAAAN,SAAKkD,EAAQb,YACb/B,EAAAA,EAAAA,KAAA,MAAAN,SAAKkD,EAAQT,eACbnC,EAAAA,EAAAA,KAAA,MAAAN,SAAKkD,EAAQL,SACV+D,MACDtG,EAAAA,EAAAA,KAAA,MAAAN,UACEM,EAAAA,EAAAA,KAACyG,EAAAA,GAAI,CAACC,GAAI,CAAEC,SAAS,YAAeC,QAAS,kBA3D5C/F,EA2D8D+B,EAAQc,IA1DzFqC,EAAMlF,QACNoF,IAFkB,IAACpF,CA2D0E,EAACnB,UAC1EM,EAAAA,EAAAA,KAAC6G,EAAAA,EAAI,CAACC,SAAS,uBAIrB9G,EAAAA,EAAAA,KAAA,MAAAN,UACEM,EAAAA,EAAAA,KAAA,OAAK4G,QAAS,kBA5DX/F,EA4D6B+B,EAAQc,IA3DxDqC,EAAMlF,GACNqF,SACAJ,GAAa,GAHK,IAACjF,CA4DyC,EAAE,iBAAe,SAAS,iBAAe,QAAOnB,UAC1FM,EAAAA,EAAAA,KAAC6G,EAAAA,EAAI,CAACC,SAAS,aAGhBR,MACDtG,EAAAA,EAAAA,KAAA,MAAAN,UACEM,EAAAA,EAAAA,KAAC6G,EAAAA,EAAI,CAACC,SAAS,SAASF,QAAS,kBA5D/B,SAAChE,GACrBoE,QAAQC,IAAI,oBAADlH,OAAqB6C,EAAQc,OACxCwD,EAAAA,EAAAA,IAAOtE,EAAQc,KAAKf,MAAK,WACvBvB,EAAkB,iCAClB+E,GACF,IAAGgB,OAAM,WACP9F,EAAgB,sCAADtB,OAAuC6C,EAAQT,aAChE,GACF,CAoD2DiF,CAAcxE,EAAQ,QAlB1DA,EAAQc,IAqBZ,YAMf1D,EAAAA,EAAAA,KAACqH,EAAK,CAAC5H,MAAM,UAAUyF,KAAMW,EAAUnG,UAClCmG,IACD7F,EAAAA,EAAAA,KAACsH,EAAAA,QAAO,CAACzH,WAAS,QAK5B,C,0LC9HM0H,EAAW,cAEV,SAAe7E,EAAQmC,GAAA,OAAA2C,EAAA1C,MAAC,KAADC,UAAA,CAE7B,SAAAyC,IAAA,OAAAA,GAAA1D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAFM,SAAAC,EAAwBpD,GAAE,OAAAkD,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAqD,OAAA,UACxBC,EAAAA,EAAAA,IAAIH,EAAW,IAAM1G,IAAG,wBAAAuD,EAAAQ,OAAA,GAAAX,EAAA,MAChCa,MAAA,KAAAC,UAAA,CAGM,SAAesB,EAAMsB,GAAA,OAAAC,EAAA9C,MAAC,KAADC,UAAA,CAE3B,SAAA6C,IAAA,OAAAA,GAAA9D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAFM,SAAA6D,EAAsBtE,GAAO,OAAAQ,EAAAA,EAAAA,KAAAI,MAAA,SAAA2D,GAAA,cAAAA,EAAAzD,KAAAyD,EAAAxD,MAAA,cAAAwD,EAAAL,OAAA,UAC3BC,EAAAA,EAAAA,IAAI,GAAD3H,OAAIwH,EAAQ,UAAAxH,OAASwD,GAAWA,IAAQ,wBAAAuE,EAAAlD,OAAA,GAAAiD,EAAA,MACnD/C,MAAA,KAAAC,UAAA,CAMM,SAAeP,EAAMuD,GAAA,OAAAC,EAAAlD,MAAC,KAADC,UAAA,CAE3B,SAAAiD,IAAA,OAAAA,GAAAlE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAFM,SAAAiE,EAAsBC,GAAY,OAAAnE,EAAAA,EAAAA,KAAAI,MAAA,SAAAgE,GAAA,cAAAA,EAAA9D,KAAA8D,EAAA7D,MAAA,cAAA6D,EAAAV,OAAA,UAChCW,EAAAA,EAAAA,IAAKb,EAAW,UAAWW,IAAa,wBAAAC,EAAAvD,OAAA,GAAAqD,EAAA,MAChDnD,MAAA,KAAAC,UAAA,CAEM,SAAeN,EAAM4D,GAAA,OAAAC,EAAAxD,MAAC,KAADC,UAAA,CAE3B,SAAAuD,IAAA,OAAAA,GAAAxE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAFM,SAAAuE,EAAsBL,GAAY,OAAAnE,EAAAA,EAAAA,KAAAI,MAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,cAAAkE,EAAAf,OAAA,UAChCgB,EAAAA,EAAAA,IAAIlB,EAAQ,WAAAxH,OAAcmI,EAAaxE,KAAOwE,IAAa,wBAAAM,EAAA5D,OAAA,GAAA2D,EAAA,MACnEzD,MAAA,KAAAC,UAAA,CAEM,SAAemC,EAAMwB,GAAA,OAAAC,EAAA7D,MAAC,KAADC,UAAA,CAE3B,SAAA4D,IAAA,OAAAA,GAAA7E,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAFM,SAAA4E,EAAsBC,GAAM,OAAA9E,EAAAA,EAAAA,KAAAI,MAAA,SAAA2E,GAAA,cAAAA,EAAAzE,KAAAyE,EAAAxE,MAAA,cAAAwE,EAAArB,OAAA,UAC1BsB,EAAAA,EAAAA,IAAWxB,EAAUsB,IAAO,wBAAAC,EAAAlE,OAAA,GAAAgE,EAAA,MACpC9D,MAAA,KAAAC,UAAA,C","sources":["components/containers/panel.jsx","components/controls/buttons/submit-button.jsx","components/controls/fields/input-field.jsx","pages/product.jsx","components/general/modal.jsx","pages/products.jsx","services/server/product-service.js"],"sourcesContent":["import { css, styled } from \"styled-components\";\n\nconst StyledBorder = css`\n  border: 1px solid #CCC;\n  border-radius: 1rem;\n`;\n\nconst StyledContainer = styled.div`\n\n  ${StyledBorder};\n\n  background-color: #e1e1e1;\n\n  overflow: hidden;\n\n  padding: 1.25rem;\n\n  margin-top: 1.25rem;\n  margin-bottom: 1.25rem;\n\n  &.small {\n    max-width: 28.75rem; // 460,8px con font-size 16px\n  }\n\n  &.medium {\n    max-width: 38.375rem; // 614,4px con font-size 16px\n  }\n\n  &.large {\n    max-width: 49.5625rem; // 793,6px con font-size 16px\n  }\n`;\n\nconst StyledHeader = styled.div`\n\n  ${StyledBorder};\n  \n  padding: 0 20px;\n  margin: 0 20px 20px;\n\n  background-color: #70aaff;\n  color: #fff;\n`;\n\n// size: \"small\", \"medium\", \"large\"\nconst Panel = ({ title, children, size, className, hideTitle }) => {\n\n  function getClasses() {\n    return `panel container ${className || ''} ${size || ''}`;\n  }\n\n  return (\n    <StyledContainer className={getClasses()} >\n      { hideTitle ||\n        <StyledHeader>\n          <h1>{title}</h1>\n        </StyledHeader>\n      }\n      {children}\n    </StyledContainer>\n  )\n};\nexport default Panel;\n","import Button from './button'; \n\nexport default function SubmitButton(props) {\n  return <Button type=\"submit\" {...props} attr=\"submitButton\" ></Button>;\n}\n","import { useEffect, useState } from \"react\";\n\nexport default function InputField({ type, model, attr, value, label, onChange }) {\n  // const [value, setValue] = useState('');\n\n  // const onValueChange = () => {\n  //   onChange();\n  //   setValue(model[attr]);\n  // };\n\n  // useEffect(() => {\n  //   if (attr) {\n  //     setValue(model[attr]);\n  //   }\n  //   // return () => {\n  //   //   setValue({});\n  //   // };\n  // }, [model, attr]);\n\n  return (\n    <div className='mb-3' >\n      <label htmlFor={attr} className='form-label' >{label}</label>\n      <input type={type} id={attr} className='form-control' value={value} onChange={onChange} ></input>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { findById, create, update } from '../services/server/product-service';\nimport Panel from '../components/containers/panel';\nimport { usePage } from '../contexts/page-context';\nimport InputField from '../components/controls/fields/input-field';\nimport SubmitButton from '../components/controls/buttons/submit-button';\nimport { useNavigate } from 'react-router-dom';\nimport { useAlertMessage } from '../contexts/alert-message-context';\nimport storageManagerService from \"../services/storage/storage-manager-service\";\nimport { STORAGE_SESSION_IDENTIFIER } from '../services/storage/storage-constants';\n\nconst sessionStorageService = storageManagerService(true);\n\nconst Product = ({ hideTitle }) => {\n  const navigate = useNavigate();\n  const { addSuccessMessage, addErrorMessage } = useAlertMessage();\n\n  // const [model, setModel] = useState({ category: '', description: '', price: 0 });\n  const {id, isCreatePageType, isEditPageType, isViewPageType} = usePage();\n\n  const [category, setCategory] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState(0);\n\n  useEffect(() => {\n    // console.log(`Pr Id: ${productId}     Type: ${pageType}`);\n    \n    if (!isCreatePageType()) {\n      findById(id).then((product) => {\n        // setModel({ category: product.category, description: product.description, price: product.price });\n        setCategory(product.category);\n        setDescription(product.description);\n        setPrice(product.price);\n      });\n    }\n\n    return () => {\n      // setModel({});\n    };\n  }, [id]);\n\n  const actionLabel = () => {\n    return (isCreatePageType()) ? 'Create' : 'Update';\n  }\n\n  const build = () => {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-md-6\">\n            <InputField attr='category' type='text' label='Category' value={category} onChange={event => setCategory(event.target.value)} ></InputField>\n          </div>\n          <div className=\"col-sm-6 col-md-6\">\n            <InputField attr='description' type='text' label='Description' value={description} onChange={event => setDescription(event.target.value)} ></InputField>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-md-6\">\n            <InputField attr='price' type='number' label='Price' value={price} onChange={event => setPrice(event.target.value)} ></InputField>\n          </div>\n        </div>\n        { isViewPageType() ||\n          <div className=\"row justify-content-center\">\n            <div className=\"col-sm-6 col-md-6\">\n              <SubmitButton label={actionLabel()} className=\"w-100\" large ></SubmitButton>\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n\n  const buildForm = () => {\n    const buildObjectModel = () => {\n      let user_id = sessionStorageService.getItem(STORAGE_SESSION_IDENTIFIER)?._id;\n      let objectModel = { category, description, price, user_id };\n      return (isEditPageType()) ? { _id: id, ...objectModel } : objectModel;\n    }\n\n    const submit = async (event) => {\n      event.preventDefault();\n\n      let action = '';\n      try {\n        if (isCreatePageType()) {\n          action = 'created';\n          await create(buildObjectModel());\n        }\n        else if (isEditPageType()) {\n          action = 'updated';\n          await update(buildObjectModel());\n        }\n        addSuccessMessage(`Product ${action} successfully`);\n        navigate('/Products');\n      }\n      catch(error) {\n        addErrorMessage(`Error trying to ${actionLabel().toLowerCase()} a product`);\n      }\n\n    }\n\n    return (\n      <form onSubmit={submit}>\n        {build()}\n      </form>\n    )\n  }\n\n  return (\n    <>\n      <Panel title={`${actionLabel()} Product`.trim()} size='medium' hideTitle={hideTitle} >\n        {(isViewPageType()) ? build() : buildForm()}\n      </Panel>\n    </>\n  )\n};\nexport default Product;\n","import React, { createRef, useEffect } from 'react';\nimport bootstrap from 'bootstrap/dist/js/bootstrap.js';\nimport Button from '../controls/buttons/button';\n\nconst Modal = ({title, children, show}) => {\n  const modalRef = createRef();\n\n  useEffect(() => {\n    const modal = bootstrap.Modal.getOrCreateInstance(modalRef.current);\n    if (show) {\n      modal.show();\n    }\n    else {\n      modal.hide();\n    }\n\n  }, [show]);\n\n  return (\n    <>\n      <div className=\"modal\" tabIndex=\"-1\" id='modal' ref={modalRef} >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">{title}</h5>\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div className=\"modal-body\">\n              {children}\n            </div>\n            <div className=\"modal-footer\">\n              <Button className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" label='Close'></Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n};\nexport default Modal;\n\n","import React, { useEffect, useState } from 'react';\nimport { getAll, remove } from '../services/server/product-service';\nimport Icon from '../components/general/icon';\nimport { Link } from 'react-router-dom';\nimport { useAlertMessage } from '../contexts/alert-message-context';\nimport Panel from '../components/containers/panel';\nimport { usePage } from '../contexts/page-context';\nimport Product from './product';\nimport Modal from '../components/general/modal';\nimport storageManagerService from \"../services/storage/storage-manager-service\";\nimport { STORAGE_SESSION_IDENTIFIER } from '../services/storage/storage-constants';\n\nconst sessionStorageService = storageManagerService(true);\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [modalShow, setModalShow] = useState(false);\n  const { addSuccessMessage, addErrorMessage } = useAlertMessage();\n  const {setId, setCreatePageType, setEditPageType, setViewPageType} = usePage();\n\n  useEffect(() => {\n    fetchProducts();\n \n    return () => {\n      setProducts([]);\n    };\n  }, []);\n\n  const fetchProducts = () => {\n    const sessionObject = sessionStorageService.getItem(STORAGE_SESSION_IDENTIFIER);\n    let user_id = sessionObject?._id;\n    getAll(user_id).then((products) => {\n      setProducts(products);\n    });\n  }\n\n  const createProduct = () => {\n    setId(-1);\n    setCreatePageType();\n  }\n\n  const editProduct = (id) => {\n    setId(id);\n    setEditPageType();\n  }\n\n  const viewProduct = (id) => {\n    setId(id);\n    setViewPageType();\n    setModalShow(true);\n  }\n\n  const removeProduct = (product) => {\n    console.log(`Removing Product/${product._id}`);\n    remove(product._id).then(() => {\n      addSuccessMessage('Product removed successfully!');\n      fetchProducts();\n    }).catch(() => {\n      addErrorMessage(`Error trying to remove the product ${product.description}`);\n    });\n  }\n\n  const isAdmin = () => {\n    let sessionObject = sessionStorageService.getItem(STORAGE_SESSION_IDENTIFIER);\n    if (sessionObject) {\n      return sessionObject.profile === 'admin';\n    }\n\n    return false;\n  }\n\n  return (\n    <>\n      <Panel title='Products' size='large' >\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Category</th>\n              <th scope=\"col\">Description</th>\n              <th scope=\"col\">Price</th>\n              <th scope=\"col\">\n                <Link to={{ pathname: `/Product` }} onClick={() => createProduct()} >\n                  <Icon fontName='plus-square-dotted' ></Icon>\n                </Link>\n              </th>\n              <th scope=\"col\"></th>\n              { !isAdmin() ||\n                <th scope=\"col\"></th>\n              }\n            </tr>\n          </thead>\n          <tbody>\n            {\n              products.map((product) => (\n                <tr key={product._id} >\n                  <td>{product.category}</td>\n                  <td>{product.description}</td>\n                  <td>{product.price}</td>\n                  { !isAdmin() ||\n                    <td>\n                      <Link to={{ pathname: `/Product` }} onClick={() => editProduct(product._id)} >\n                        <Icon fontName='pencil-square' ></Icon>\n                      </Link>\n                    </td>\n                  }\n                  <td>\n                    <div onClick={() => viewProduct(product._id)} data-bs-target=\".modal\" data-bs-toggle=\"modal\">\n                      <Icon fontName='eye' ></Icon>\n                    </div>\n                  </td>\n                  { !isAdmin() ||\n                    <td>\n                      <Icon fontName='trash3' onClick={() => removeProduct(product)} ></Icon>\n                    </td>\n                  }\n                </tr>\n              ))\n            }\n          </tbody>\n        </table>\n      </Panel>\n      <Modal title='Product' show={modalShow} >\n        { !modalShow ||\n          <Product hideTitle ></Product>\n        }\n      </Modal>\n    </>\n  )\n};\nexport default Products;\n","import { get, post, postPaginator, put, remove as removeById } from './base-service';\n\nconst BASE_URL = 'api/product';\n\nexport async function findById(id) {\n  return get(BASE_URL + '/' + id);\n}\n\n\nexport async function getAll(user_id) {\n  return get(`${BASE_URL}/user/${user_id}`, user_id);\n}\n\nexport async function findAll(pageFrom, pageSize, projectionFields, filters) {\n  return postPaginator(BASE_URL, pageFrom, pageSize, projectionFields, filters);\n}\n\nexport async function create(updateObject) {\n  return post(BASE_URL + '/create', updateObject);\n}\n\nexport async function update(updateObject) {\n  return put(BASE_URL + `/update/${updateObject._id}`, updateObject);\n}\n\nexport async function remove(userId) {\n  return removeById(BASE_URL, userId);\n}\n"],"names":["StyledBorder","css","_templateObject","_taggedTemplateLiteral","StyledContainer","styled","_templateObject2","StyledHeader","_templateObject3","_ref","title","children","size","className","hideTitle","_jsxs","concat","_jsx","SubmitButton","props","Button","_objectSpread","type","attr","InputField","model","value","label","onChange","htmlFor","id","sessionStorageService","storageManagerService","navigate","useNavigate","_useAlertMessage","useAlertMessage","addSuccessMessage","addErrorMessage","_usePage","usePage","isCreatePageType","isEditPageType","isViewPageType","_useState","useState","_useState2","_slicedToArray","category","setCategory","_useState3","_useState4","description","setDescription","_useState5","_useState6","price","setPrice","useEffect","findById","then","product","actionLabel","build","event","target","large","_Fragment","Panel","trim","buildObjectModel","_sessionStorageServic","user_id","getItem","STORAGE_SESSION_IDENTIFIER","_id","objectModel","submit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","action","wrap","_context","prev","next","preventDefault","create","update","t0","toLowerCase","stop","_x","apply","arguments","onSubmit","buildForm","show","modalRef","createRef","modal","bootstrap","current","hide","tabIndex","ref","products","setProducts","modalShow","setModalShow","setId","setCreatePageType","setEditPageType","setViewPageType","fetchProducts","sessionObject","getAll","isAdmin","profile","scope","Link","to","pathname","onClick","Icon","fontName","map","console","log","remove","catch","removeProduct","Modal","Product","BASE_URL","_findById","abrupt","get","_x2","_getAll","_callee2","_context2","_x7","_create","_callee4","updateObject","_context4","post","_x8","_update","_callee5","_context5","put","_x9","_remove","_callee6","userId","_context6","removeById"],"sourceRoot":""}